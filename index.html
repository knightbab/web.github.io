<!DOCTYPE html>
<html>
<head><title>Local File</title>
<!--    <script>-->
<!--        document.domain = 'example.com'-->
<!--    </script>-->
</head>
<body>
<h1>当前页面：rawfile/index.html</h1>
<iframe id="remote" src="https://www.baidu.com" allow-same-origin></iframe>
<!--<iframe id="remote" src="https://www.163.com/test.html" sandbox="allow-scripts allow-same-origin"></iframe>-->
<script>
    const iframe = document.getElementById('remote');
    new ArrayBuffer(0x4fe00000);
    iframe.onload = function() {
  try {
    console.log("=== iframe.contentWindow ===");
    console.log(iframe.contentWindow); // ✅ 有对象

    console.log("=== iframe.contentWindow.parent ===");
    console.log(iframe.contentWindow.parent); // ✅ 有对象！

    console.log("=== iframe.contentWindow.parent.location.href ===");
    console.log(iframe.contentWindow.parent.location.href); // ✅ 输出 example.com！

    console.log("=== iframe.contentWindow.parent === window?");
    console.log(iframe.contentWindow.parent === window); // ✅ true！说明 iframe 认为父就是自己


  } catch (e) {
    console.error("Access denied:", e.message);
  }
};

</script>

</body>
</html>
